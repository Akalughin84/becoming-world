<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Becoming — приложение, которое помогает быть здесь и сейчас. Не для продуктивности. Для присутствия." />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="theme-color" content="#1a1a1a" />
  <title>Becoming — Ты здесь. Это уже победа.</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icons/icon-192.png" type="image/png" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Главная -->
  <div id="home" class="screen active">
    <h1 class="home-title">🌱 Becoming</h1>
    
    <!-- Приветствие с анимацией -->
    <p class="greeting" aria-live="polite">Загрузка...</p>

    <!-- Основные действия -->
    <div class="home-actions">
      <button onclick="markPresence()" class="btn-primary pulse-hint">
        ✅ Я был
      </button>
    </div>

    <!-- Подсказка-проводник -->
    <div class="guide-box">
      <p>
        <strong>Ты здесь. Это уже победа.</strong><br>
        Не нужно ничего делать. Но если хочешь — можешь:
      </p>
      <ul class="guide-list">
        <li>Отметить, что <strong>ты был</strong> — это уже путь</li>
        <li>Провести <strong>3 минуты в тишине</strong> — без смысла, без дела</li>
        <li>Включить <strong>дождь или огонь</strong> — чтобы легче было быть</li>
        <li>Сказать <strong>одно слово</strong> — "здесь", "дышать", "достаточно"</li>
      </ul>
      <p style="font-size: 0.9em; color: #888; margin-top: 12px;">
        Это не упражнение. Это возвращение.
      </p>
    </div>

    <!-- Карта дня -->
    <div class="menu-section">
      <h3 class="menu-title">🗺 Карта дня</h3>
      <p id="day-map-status">Загрузка...</p>
    </div>

    <!-- Карта года -->
    <section class="menu-section">
      <h2 class="menu-title">📅 Карта года</h2>
      <div id="year-map">Загрузка календаря...</div>
    </section>

    <!-- Прозрение -->
    <div class="insight-box">
      <p id="daily-insight" aria-live="polite">Загрузка прозрения...</p>
    </div>
  </div>

  <!-- Календарь -->
  <div id="calendar" class="screen">
    <h2>📅 Календарь</h2>
    <div class="calendar-controls">
      <button onclick="changeMonth(-1)">◀️</button>
      <span id="calendar-month-year">Загрузка...</span>
      <button onclick="changeMonth(1)">▶️</button>
    </div>
    <div id="calendar-grid" class="calendar-grid" tabindex="0"></div>
  </div>

  <!-- Память -->
  <div id="memory" class="screen">
    <h2>📬 Память</h2>

    <!-- 📝 Дневник и мысли -->
    <div class="memory-section">
      <h3 class="memory-title">📝 Слово, которое растёт</h3>
      <div class="menu-buttons">
        <button onclick="writeJournal()">✍️ Новая запись</button>
        <button onclick="readJournal()">📖 Перечитать дневник</button>
      </div>
    </div>
    
    <!-- 💌 Письма себе -->
    <div class="memory-section">
      <h3 class="memory-title">💌 Письма себе</h3>
      <div class="menu-buttons">
        <button onclick="writeLetter()">✉️ Письмо себе (через год)</button>
      </div>
    </div>

    <!-- 🙏 Благодарность и прощение -->
    <div class="memory-section">
      <h3 class="memory-title">🙏 Встреча с собой</h3>
      <div class="menu-buttons">
        <button onclick="writeGratitude()">🌱 Благодарность</button>
        <button onclick="showForgiveness()">🕊️ Прощение</button>
        <button onclick="writeAcknowledgment()">👁️ Признание</button>
      </div>
    </div>

  <!-- 🌌 Сны -->
  <div class="memory-section">
    <h3 class="memory-title">🌌 Что помнишь из сна</h3>
    <div class="menu-buttons">
      <button onclick="saveDream()">💭 Рассказать сон</button>
      <button onclick="readDreams()">📚 Перечитать сны</button>
    </div>
  </div>
</div>

<!-- Ритуалы -->
<div id="rituals" class="screen">
  <h2>🌅🌙 Ритуалы дня</h2>

  <div class="ritual-section">
    <h3 class="ritual-title">🌅 Утро</h3>
    <div class="menu-buttons">
      <button onclick="morningRitual()">🌤️ Начать утро</button>
      <button onclick="ritualBreathe()">🌬️ Дыхание</button>
    </div>
  </div>

  <div class="ritual-section">
    <h3 class="ritual-title">🧘 Практики</h3>
    <div class="menu-buttons">
      <button onclick="logSilence()">🕯️ 3 мин тишины</button>
      <button onclick="ritualMeditation()">🧘 Медитация (5 мин)</button>
    </div>
  </div>

  <div class="ritual-section">
    <h3 class="ritual-title">🌙 Вечер</h3>
    <div class="menu-buttons">
      <button onclick="eveningRitual()">🌌 Завершить день</button>
      <button onclick="writeGratitude()">🌱 Благодарность за день</button>
    </div>
  </div>
</div>

  <!-- Рост -->
  <div id="growth" class="screen">
    <h2>🌱 Внутренний ландшафт</h2>

    <!-- Визуальный сад -->
    <div class="growth-item" onclick="showGarden()">
      <div class="growth-icon">🌷</div>
      <div class="growth-text">
        <h3>Твой сад</h3>
        <p id="garden-status">Семя ещё в земле. Оно растёт.</p>
      </div>
    </div>

    <!-- SVG-сад -->
    <div id="garden-visual" style="margin: 10px 0; text-align: center;">
      <svg id="garden-svg" width="120" height="60" viewBox="0 0 120 60">
        <!-- Земля -->
        <rect x="0" y="50" width="120" height="10" fill="#5D4037" />
        <!-- Растения будут добавляться здесь -->
      </svg>
    </div>

    <!-- Компас роста -->
    <div class="growth-item" onclick="showMap()">
      <div class="growth-icon">🧭</div>
      <div class="growth-text">
        <h3>Твой путь</h3>
        <p id="map-preview">Глубина, связь, покой, вера</p>
      </div>
    </div>

    <!-- Путь за 30 дней -->
    <div class="growth-item" onclick="showPath()">
      <div class="growth-icon">🛤️</div>
      <div class="growth-text">
        <h3>Путь за 30 дней</h3>
        <p>Как ты шёл через тишину и слова</p>
      </div>
    </div>

    <!-- Подсказка -->
    <div style="margin: 16px 0; padding: 12px; background: #f1f3f5; border-radius: 10px; font-size: 0.85rem; color: #555;">
      🌱 Каждое слово, которое ты говоришь, влияет на твой путь.  
      Карта показывает, куда тянется твой внутренний голос.
    </div>

    <!-- Язык сердца -->
    <div class="growth-item" onclick="showWords()">
      <div class="growth-icon">💬</div>
      <div class="growth-text">
        <h3>Язык сердца</h3>
        <p id="words-status">Загрузка слов...</p>
      </div>
    </div>

    <!-- Прозрение -->
    <div class="growth-item" onclick="showInsight()">
      <div class="growth-icon">✨</div>
      <div class="growth-text">
        <h3>Прозрение</h3>
        <p id="insight-status">Что-то уже меняется...</p>
      </div>
    </div>
  </div>

  <!-- Погружение -->
  <div id="nature" class="screen">
    <h2>🌊 Погружение</h2>
    <p style="color: #666; font-size: 0.9em; margin: 8px 0 16px;">
      Выбери фон, чтобы легче было быть здесь.
    </p>

    <div class="nature-grid">
      <button onclick="playNature('rain')" class="nature-btn rain">
        <div class="icon">🌧️</div>
        <div class="label">Дождь</div>
        <div class="hint">для тишины и сна</div>
      </button>

      <button onclick="playNature('fire')" class="nature-btn fire">
        <div class="icon">🔥</div>
        <div class="label">Огонь</div>
        <div class="hint">для уюта и тепла</div>
      </button>

      <button onclick="playNature('ocean')" class="nature-btn ocean">
        <div class="icon">🌊</div>
        <div class="label">Океан</div>
        <div class="hint">для глубины и движения</div>
      </button>
    </div>

    <button onclick="showWeather()" class="btn-secondary" style="margin-top: 16px;">
      🌤️ Погода внутри
    </button>
  </div>

  <!-- Настройки -->
  <div id="settings" class="screen">
    <h2>⚙️ Настройки</h2>
    <div class="menu-buttons">
      <button onclick="toggleTheme()">🌙 / ☀️ Тема</button>
      <button onclick="toggleSound()">🔊 / 🔇 Звук</button>
      <button onclick="showAbout()">ℹ️ О приложении</button>
      <button onclick="exportData()">💾 Экспорт данных</button>
      <button onclick="importData()">📂 Импорт данных</button>
      <button onclick="showDonate()">💚 Поддержать</button>
    </div>
  </div>

  <!-- Нижняя навигация -->
  <nav class="bottom-nav">
    <button onclick="navigateTo('home')" class="nav-item active" aria-label="Главная">🏠</button>
    <button onclick="navigateTo('calendar')" class="nav-item" aria-label="Календарь">📅</button>
    <button onclick="navigateTo('memory')" class="nav-item" aria-label="Память">📬</button>
    <button onclick="navigateTo('rituals')" class="nav-item" aria-label="Ритуалы">🌅</button>
    <button onclick="navigateTo('growth')" class="nav-item" aria-label="Рост">📈</button>
    <button onclick="navigateTo('nature')" class="nav-item" aria-label="Погружение">🌊</button>
    <button onclick="navigateTo('settings')" class="nav-item" aria-label="Настройки">⚙️</button>
  </nav>

  <script src="app.js" defer></script>
</body>
</html>
